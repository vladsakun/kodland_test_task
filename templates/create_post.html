{% extends 'wrapper.html' %}
{% load static %}
{% block head %}
    <link rel="stylesheet" href="{% static 'css/create_post.css' %}">

    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>

{% endblock %}
{% block content %}
    <div class="container" id="create-post-container">
        <div id="add-post-title" class="title">Добавить статью</div>
        <form action="/create/post/" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row" id="post-name-row">
                <div class="col xl8 l8 m12 s12" id="post-name-div">
                    {{ form.post_name.errors }}
                    <input class="post-name-input" type="text" placeholder="Введите название статьи"
                           name="{{ form.post_name.html_name }}" required>
                </div>
                <div class="col xl4 l4 m6 s6 offset-s3 offset-m3" id="publish-post-div">
                    <button type="submit" name="submitme" class="waves-effect waves-light btn" id="publish-btn">
                        Опубликовать
                    </button>
                </div>
            </div>
            <div class="row" id="post-text-row">
                <div class="col xl8 l8 m12 s12" id="post-text-div">
                    {{ form.post_text.errors }}
                    <textarea name="{{ form.post_text.html_name }}" id="post-text"></textarea>
                </div>
                <div class="col xl3 l4 m6 s8 offset-s2 offset-m3" id="post-image-div">
                    <div class="card">
                        {{ form.post_image.errors }}
                        <p id="upload-image-title">
                            Загрузить изображение
                        </p>
                        <p id="choose-image-p">

                            <label class="waves-effect waves-light btn" id="choose-image-btn"
                                   for="post-image">Выбрать</label>
                        </p>
                        <input type="file" style="display:none;" accept="image/*" id="post-image"
                               name="{{ form.post_image.html_name }}">
                        <p id="image-preview-p">

                        </p>

                    </div>

                </div>
            </div>
        </form>
    </div>

    <script src="{% static 'js/create_post.js' %}"></script>
{% endblock %}